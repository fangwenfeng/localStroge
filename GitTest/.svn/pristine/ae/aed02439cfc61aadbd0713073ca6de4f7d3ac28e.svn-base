<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>开发</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../css/style.css"/>
    <style>
        .empty{ text-align: center; padding: 15px; }
    </style>
</head>
<body>
    <div class="empty" onclick="aliPayTest();">支付宝支付</div>
    <div class="empty" onclick="qqinstalledTest();">是否安装了qq</div>
</body>
<script type="text/javascript" src="../script/api.js"></script>
<script src="../script/SHA1.js "></script>
<script>
    var aliPay;var notifyURL = 'http://www.apicloud.com';
    var qq;
	apiready = function() {
		alert(JSON.stringify(api.appParam));
        aliPay = api.require('aliPay');
        qq = api.require('qq');
	};
    function qqinstalledTest(){
        qq.installed(function(ret,err){
            if(ret.status){
               api.alert({msg: "安装"});
            }else{
                api.alert({msg: "没有安装"});
            } 
        });
    }
    aliPay.config({
        partner:'12345678901234',
        seller:'123456789024354',
        rsaPriKey:'testKEY',
        rsaPubKey:'testKEY',
        notifyURL:notifyURL
        },function(ret,err) {
            api.alert({
            title: '支付结果',
            msg: ret.msg,
            buttons: ['确定']
        });
    });
    function aliPayTest(){
        aliPay.pay({
            subject: '订单名',
            body: '订单描述',
            amount: '0.01',
            tradeNO: '4563548735674'
        },function(ret,err) {
            api.alert({
                title: '支付结果',
                msg: ret.code,
                buttons: ['确定']
            });
        });
    }
</script>
</html>